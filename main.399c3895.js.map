{"version":3,"sources":["scripts/main.js"],"names":["sorted","table","document","querySelector","body","thead","tbody","toNum","value","parseFloat","slice","sortTable","e","index","target","cellIndex","tr","children","textContent","reverse","sort","a","b","cells","innerHTML","localeCompare","append","addEventListener","closest","i","rows","length","classList","toggle","remove","form","createElement","div","style","alignSelf","setAttribute","add","insertAdjacentHTML","button","validateInput","data","notification","position","marginLeft","nameWorker","age","reset","preventDefault","worker","inputs","querySelectorAll","select","input","dataset","qa","salary","toLocaleString","divQa","setTimeout","defaultValue","saveInput","elem","forBlur","focus","forKeydown","key","code","removeEventListener"],"mappings":"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","file":"main.399c3895.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst body = document.querySelector('body');\nconst thead = table.querySelector('thead');\nconst tbody = table.querySelector('tbody');\nlet sorted;\n\n// ----------sorting table---------- \\\\\n\nfunction toNum(value) {\n  if (+value) {\n    return +value;\n  } else {\n    return parseFloat(value.slice(1));\n  }\n}\n\nfunction sortTable(e) {\n  const index = e.target.cellIndex;\n  const tr = [...tbody.children];\n\n  if (e.target.textContent === sorted) {\n    tr.reverse();\n  } else {\n    sorted = e.target.textContent;\n\n    tr.sort((a, b) => {\n      if (!toNum(a.cells[index].innerHTML)) {\n        return a.cells[index].innerHTML.localeCompare(b.cells[index].innerHTML);\n      }\n\n      return toNum(a.cells[index].innerHTML) - toNum(b.cells[index].innerHTML);\n    });\n  }\n\n  tbody.append(...tr);\n}\n\nthead.addEventListener('click', sortTable);\n\n// ----------selected row---------- \\\\\n\ntbody.addEventListener('click', (e) => {\n  const target = e.target.closest('tr');\n\n  for (let i = 0; i < tbody.rows.length; i++) {\n    if (target === tbody.rows[i]) {\n      tbody.rows[i].classList.toggle('active');\n    } else {\n      tbody.rows[i].classList.remove('active');\n    }\n  }\n});\n\n// ----------create form---------- \\\\\nconst form = document.createElement('form');\nconst div = document.createElement('div');\n\ndiv.style.alignSelf = 'flex-start';\nform.setAttribute('action', '/');\nform.setAttribute('method', 'GET');\n\nform.classList.add('new-employee-form');\ndiv.append(form);\nbody.append(div);\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    Name:\n    <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n  </label>\n  <label>\n    Position:\n    <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n  </label>\n  <label>\n    Office:\n    <select data-qa=\"office\">\n      <option>Tokyo</option>\n      <option>Singapore</option>\n      <option>London</option>\n      <option>New York</option>\n      <option>Edinburgh</option>\n      <option>San Francisco</option>\n    </select>\n  </label>\n  <label>\n    Age:\n    <input name = \"age\" type = \"number\" data-qa=\"age\" required>\n  </label>\n  <label>\n    Salary:\n    <input name = \"salary\" type = \"number\" data-qa=\"salary\" required>\n  </label>\n  <button type=\"submit\">Save to table</button>`);\n\n// ----------valid input && add worker---------- \\\\\n\nconst button = form.querySelector('button');\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const worker = {};\n  const inputs = form.querySelectorAll('input[data-qa]');\n  const select = form.querySelector('select');\n\n  for (const input of inputs) {\n    switch (input.dataset.qa) {\n      case 'name':\n        worker['nameWorker'] = input.value;\n        break;\n      case 'position':\n        worker['position'] = input.value;\n        break;\n      case 'age':\n        worker['age'] = input.value;\n        break;\n      case 'salary':\n        worker['salary'] = input.value;\n    }\n  }\n\n  worker['office'] = select.value;\n\n  if (validateInput(worker)) {\n    const salary = +worker['salary'];\n\n    tbody.insertAdjacentHTML('beforeend', `\n      <tr>\n        <td>${worker['nameWorker']}</td>\n        <td>${worker['position']}</td>\n        <td>${worker['office']}</td>\n        <td>${worker['age']}</td>\n        <td>$${salary.toLocaleString('en-US')}</td>\n      </tr>`);\n  }\n\n  const divQa = body.querySelectorAll('div[data-qa]');\n\n  setTimeout(() => {\n    for (let i = 0; i < divQa.length; i++) {\n      divQa[i].remove();\n    }\n  }, 3000);\n});\n\nfunction validateInput(data) {\n  const notification = document.createElement('div');\n\n  notification.style.position = 'relative';\n  notification.style.marginLeft = '24px';\n\n  notification.setAttribute('data-qa', 'notification');\n\n  const { nameWorker, age, position } = data;\n\n  notification.classList.add('notification');\n\n  if (nameWorker.length < 4) {\n    notification.classList.add('error');\n\n    notification.insertAdjacentHTML('beforeend', `\n      <h2>Invalid NAME!!!</h2>\n      <p>The name must contain at least 4 letters!</p>`);\n\n    div.append(notification);\n\n    return false;\n  }\n\n  if (position.length < 4) {\n    notification.classList.add('error');\n\n    notification.insertAdjacentHTML('beforeend', `\n      <h2>Invalid POSITION!!!</h2>\n      <p>The position must contain at least 4 letters!</p>`);\n\n    div.append(notification);\n\n    return false;\n  }\n\n  if ((age < 18 || age > 90)\n    || typeof +age !== 'number') {\n    notification.classList.add('error');\n\n    notification.insertAdjacentHTML('beforeend', `\n      <h2>Invalid AGE!!!</h2>\n      <p>Age must be at least 18 and not more than 90!</p>`);\n\n    div.append(notification);\n\n    return false;\n  }\n\n  if (nameWorker.length >= 4\n    && position.length >= 4\n    && (age >= 18 && age <= 90)) {\n    notification.classList.add('success');\n\n    notification.insertAdjacentHTML('beforeend', `\n      <h2>Data ENTER!!!</h2>\n      <p>You are included in the list!</p>`);\n\n    form.reset();\n\n    div.append(notification);\n\n    return true;\n  }\n};\n\n// ----------double click on cells---------- \\\\\n\ntbody.addEventListener('dblclick', (e) => {\n  const target = e.target;\n  const input = document.createElement('input');\n  const defaultValue = target.innerHTML;\n\n  input.classList.add('cell-input');\n  target.innerHTML = '';\n  target.append(input);\n  input.focus();\n\n  function saveInput(elem) {\n    if (elem.value.length > 0) {\n      target.innerHTML = elem.value;\n    } else {\n      target.innerHTML = defaultValue;\n    }\n  }\n\n  function forBlur() {\n    saveInput(input);\n  }\n\n  function forKeydown(key) {\n    if (key.code === 'Enter') {\n      input.removeEventListener('blur', forBlur);\n      saveInput(input);\n    }\n  }\n\n  input.addEventListener('blur', forBlur);\n  input.addEventListener('keydown', forKeydown);\n});\n"]}